# 함수형 프로그래밍

함수형 프로그래밍은 순수 함수를 지향하고 조합성을 강조하는 프로그래밍 패러다임 입니다.

함수형 프로그래밍은 순수 함수들의 조합으로 프로그래밍합니다. 순수함수는 조합성이 높습니다. 조합성이 높은 것은 모듈화 수준이 높은 것을 말하고, 모듈화 수준이 높다는 것은 재사용성이 높고, 기획 변경에 대응이 용이합니다.

## 순수 함수

순수 함수는 부수 효과가 없는 함수, 수학적 함수입니다.

들어온 인자가 같으면 항상 동일한 결과를 반환하는 함수, 함수의 인자를 제외한 어떤 외부의 상태에 영향을 끼치지 않는 함수, 반환 값 이외의 외부와 소통하는 것이 없는 함수입니다.

## 순수 함수의 조건

순수 함수의 조건은 항상 동일한 인자에 대해 동일한 결과를 리턴, 부수 효과가 없어야 합니다.

### 부수효과

부수 효과는 함수의 결과를 제외한 것 이외의 외부의 상태에 영향을 미치는 것입니다.

### 객체(참조)타입의 함수형 프로그래밍

함수형 프로그래밍에서 객체 참조 타입은 값을 복제하여 사용합니다.

## 순수 함수의 특징

순수 함수는 평가 시점이 중요하지 않습니다. 외부의 값을 변경하지 않고 값을 참조하더라도 변동이 없는 상수를 참조하기 때문에 평가 시점에 대해 자유롭습니다.

언제 평가해도 상관없는 순수 함수들은 많이 만들고 순수 함수들을 값으로 들고 다니며 필요할 때 사용합니다.

## 순수 함수 비 순수 함수 예제

### 비 순수 함수 예제

```js
let z = 10;
function fn1 (x, y) {
    // 외부 변수 z에 의존
    return x + y + z
}

// 같은 함수, 같은 인수지만 외부 변수의 상태에 따라 값이 달라짐 -> 순수함수가 아니다.
fn1(1, 1)   
z = 1;
fn1(1, 1)
```

```js
let z = 10;
function fn2 (x, y) {
    // 외부 변수 z를 함수 내부에서 값 변경 -> 부수효과 발생
    z = 1;
    return x + y;
}
// z = 1
```

### 순수 함수 예제

```js
// 변경이 없는 상수는 함수 외부에서 참조해도 순수 함수의 조건을 만족한다.
const z = 10;
function fn2 (x, y) {
    return x + y + z;
}

console.log(fn2(1,1))
```

```js
// 비 순수 함수
const human = {
    name : 'd',
    age : 1
};
function changeAge1 (human) {
    human.age = human.age += 1;
    return human
}

console.log(human === changeAge1(human))    // true

...

// 순수 함수
const human = {
    name : 'd',
    age : 1
};

function changeAge2 (human) {
    return {
        name : 'd',
        age : human.age + 1
    }
}

console.log(human === changeAge2(human))    // false
```

#### 클로저

클로저도 순수 함수가 될 수 있습니다.

```js
function closure (x) {
    return function () {
        // 상위 스코프의 x의 값을 변경 없이 참조만 한다.
        return x ;
    }
}

closure(3)
```
