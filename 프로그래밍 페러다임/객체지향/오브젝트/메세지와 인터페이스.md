## 메시지와 인터페이스

### 메시지와 메시지 전송

메시지는 객체들이 협력하기 위해 사용될 수 있는 유일한 의사소통 수단이다. 한 객체가 다른 객체에게 도움을 요청하는 것을 **메시지 전송**, **메시지 패싱**이라 한다.
메시지를 전송하는 객체를 **메시지 전송자**라고 하고, 메시지를 수신하는 객체를 **메시지 수신자**라 한다.

메시지 전송은 메시지 수신자 + 오퍼레이션 명 + 인자 조합이다.

### 메시지 메소드

메소드: 메시지를 수신했을 때 실제로 실행되는 함수 또는 프로시저

### 퍼블릭 인터페이스와 오퍼레이션

- **퍼블릭 인터페이스**: 객체가 의사소통을 위해 외부에 공개하는 메시지의 집합,
- **오퍼레이션**: 퍼블릭 인터페이스에 포함된 메시지, 수행 가능한 어떤 행동에 대한 추상화, 내부 모형 코드를 제외한 메시지와 관련된 시그니처를 가리킴
- **메서드**: 실제 실행되는 코드

## 시그니처

오퍼레이션의 이름과 파라미터 목록을 합친 것

### 인터페이스와 설계 품질

좋은 인터페이스는 최소한의 인터페이스, 추상적인 인터페이스이다.

퍼블릭 인터페이스의 품질에 영향을 미치는 원칙, 기법

- 디미터 법칙
- 묻지말고 시켜라
- 의도를 드러내는 인터페이스
- 명령-쿼리 분리 원칙

#### 티미터 법칙

객체 내부 구조에 강하게 결합되지 않도록 협력 경로를 제한한다. (오직 하나의 도트만 사용) 부끄럼타는 코드를 작성할 수 있게 된다.

#### 묻지말고 시켜라

객체 상태에 관해 묻지 말고 원하는 것을 시켜야 한다.

내부의 상태를 이용해 어떤 결정을 내리는 조직이 객체 외부에 존재한다면, 해당 객체가 책임져야 하는 어떤 행동이 외부로 누수된 것이다.

#### 의도를 드러내는 인터페이스

메소드의 이름은 어떻게가 아니라 무엇을 하는지 드러내야 한다. -> 의도를 드러내는 선택자

> 매우 다른 두 번째 구현을 상상하라. 해당 메서드에 동일한 이름을 붙인다. 그 순간 가장 추상적인 이름을 붙이게 된다.

의도를 드러내는 인터페이스는 구현과 관련된 모든 정보를 캡슐화하고, 객체의 퍼블릭 인터페이스에는 협력과 의도만을 표현한다.

객체에게 묻지 말고 시키되 구현 방법이 아닌 클라이언트의 의도를 드러내야 한다.

### 원칙의 함정

위 원칙이 현재 상황과 부적합하다고 판단되면 원칙을 무시하라.

- 디미터 법칙은 하나의 도트를 강제하는 규칙이 아니다.</br>
디미터 법칙은 결합도와 관련된 것으로 객체 내부의 구조, 구현에 대한 정보가 외부로 노출되지 않는다면 디미터 법칙을 준수한다.

- 결합도와 응집도의 충돌</br>
디미터 법칙의 위반 여부는 묻는 대상이 객체인지 자료 구조인지에 따라 달려 있다.
객체라면 숨기고, 자료 구조라면 내부를 드러낸다.

#### 명령-쿼리 분리 법칙

- **루틴**: 어떤 절차를 묶어 호출 가능하도록 이름을 부여한 기능 모듈, 루틴은 프로시저 함수로 구분된다.
  - **프로시저**: 부수 효과를 발생시킬 수 있지만 값을 반환할 수 있다.
  - **쿼리**: 함수 값을 반환할 수 있지만 부수 효과를 발생시킬 수 없다.

명령-쿼리 분할의 법칙은 질문이 답변을 수정하면 안 된다.
