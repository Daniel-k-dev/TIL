# 협력, 역할, 책임

- **협력:** 객체들이 애플리케이션의 기능을 구현하기 위해 수행하는 상호작용
- **역할:** 객체들의 협력 안에서 수행하는 책임의 집합
- **책임:** 협력에 참여하기 위해 객체가 수행하는 로직

## 협력

- 객체는 시스템의 기능이라는 큰 목표를 달성하기 위해 다른 객체와 협력하는 사회적인 존재
- 메시지를 통해 협력
- 캡슐화를 통해 객체의 자율성을 챙김

### 협력의 설계를 위한 문맥을 결정

- 협력(협력에서 객체의 행동이 도출, 결정) -> 객체의 행동(행동에서 객체의 상태가 도출, 결정) -> 객체 상태
- 협력은 객체 설계의 문맥을 제공

## 역할

역할은 객체가 어떤 특별한 협력 안에서 수행하는 책임의 집합으로 다른 객체로 교체 가능하다.

- **역할:** 같은 인터페이스 같은 메세지 수행 가능
- **객체:** 반드시 하나의 객체만 수행가능

### 개체와 역할

- 협력에 적합한 책임을 수행하는 대상이 한 종류라면 객체
- 여러 종류의 객체가 참여 가능하면 역할

## 책임

- 협력에 참여하기 위해 객체가 수행하는 행동
- 객체가 유지해야 할 정보(아는 것, know)와 수행할 수 있는 행동(하는 것, do)로 구성

책임은 메세지보다 더 추상적이다. 하나의 책임이 여러개의 메세지가 되기도 하고 여러 객체의 협력이 필요할 수 있다.

### 책임 할당

책임을 수행하는 데 필요한 정보를 가장 잘 알고 있는 전문가에게 책임을 할당한다. (information expert 패턴)

객체 지향 설계는 협력에 필요한 메시지를 찾고 메시지에 적절한 객체 선택의 과정을 반복한다. 이때 각 메시지는 퍼블릭 인터페이스를 구성하게 된다.

### 책임주도 설계(Responsiblity Driven Develop, RDD)

책임을 찾고, 책임을 수행할 객체를 찾아 해당 객체에게 책임을 할당하는 방법

#### 과정

1. 시스템의 책임 파악
2. 더 작은 책임으로 분할
3. 적절한 객체, 역할을 찾아 책임 할당
4. 다른 객체의 도움이 필요하면 이를 책임질 객체를 찾음
5. 협력

### 메시지가 객체를 결정

메시지를 먼저 식별하고 메시지를 처리할 객체를 선택한다.

#### 이유

- 최소화되는 인터페이스
- 추상적인 인터페이스
