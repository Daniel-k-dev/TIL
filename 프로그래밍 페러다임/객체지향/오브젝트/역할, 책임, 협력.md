## 역할, 책임, 협력

- **협력:** 객체들이 기능 구현을 위해 수행하는 상호작용
- **책임:** 객체가 협력에 참여하기 위해 수행하는 로직
- **역할:** 객체들의 협력 안에서 수행하는 책임의 집합

### 협력

객체는 시스템의 기능 수행을 위해 다른 객체와 협력하는 존재이다.

- 메시지를 통해 협력
- 캡슐화로 객체의 자율성을 챙김

#### 협력이 설계를 위한 문맥을 결정

협력은 아래 과정을 통해 객체 설계의 문맥을 제공한다.

1. 협력을 찾음
2. 객체의 행동 도출
3. 객체의 행동 결정
4. 객체의 상태 도출

### 책임

- 협력에 참여하기 위해 객체가 수행하는 행동
- 객체가 유지해야 할 정보(아는 것, know)와 수행할 수 있는 행동(하는 것, do)로 구성

책임과 메시지의 크기는 다르다. 책임은 객체가 수행할 수 있는 행동들을 종합적이고 간략하게 서술한다. 메세지보다 추상적이고 개념적으로 더 크다. 하나의 책임이 여러개의 메세지가 되기도 하고 여러 객체의 협력이 필요할 수 있다.

#### 책임 할당

- 객체 지향 설계는 협력에 필요한 메시지를 찾고 메시지에 적합한 객체를 선택하는 과정의 연속
- 책임 수행에 필요한 정보를 가장 잘 알고있는 전문가에게 책임 할당 (information expert 패턴)

#### 책임주도 설계(Responsiblity Driven Develop, RDD)

책임을 찾고, 책임을 수행할 객체를 찾고 책임을 할당하는 방법

1. 시스템의 책임 파악
2. 더 작은 책임으로 분할
3. 적절한 객체, 역할을 찾아 책임 할당
4. 다른 객체의 도움이 필요하면 이를 책임질 객체를 찾음
5. 협력

#### 메시지가 객체를 결정

메시지를 식별 후 메시지를 처리할 객체를 선택하면 최소화된, 추상적인 인터페이스를 얻을 수 있다.

### 역할

역할은 객체가 어떤 특별한 협력 안에서 수행하는 책임의 집합(하나의 인터페이스)으로 역할은 다른 객체로 교체 가능하다.

#### 객체 대 역할

협력에서 적합한 책임을 수행하는 대상이 하나라면 역할이 아인 객체로 간주

- **역할:** 여러 객체가 서로 대신 참여가능(대체 가능, 인터페이스)
- **객체:** 반드시 하나의 객체만 수행가능(대체 불가, 클래스)
