## 합성과 유연한 설계

합성은 부분 객체를 전체 객체의 프로퍼티로 설정하고 필요시 부분 객체의 코드를 사용한다.

- 상속 관계: is-a 관계
- 합성 관계: has-a 관계

부분 객체의 퍼블릭 인터페이스에 의존하며 실행 시점에 동적으로 변경 가능하며 유연한 설계가 가능하다.

> - 화이트박스 재사용: 상속을 통한 재사용
> - 블랙박스 재사용: 인터페이스를 통한 재사용</br>
> 객체를 합성하려면 합성하는 객체들의 인터페이스를 명확하게 정의해야 한다.

### 상속을 합성으로 변경하기

상속 남용의 문제점

- 불필요한 인터페이스 상속
- 메서드 오버라이드 문제
- 부모 클래스, 자식 클래스의 동시 수정 문제

상속을 합성으로 변경하는 법

- 인터페이스 설정
- 매서드 내부에서 사용
- 클래스 내부에서 인스턴스로 사용

#### 메서드 오버라이드 문제

- **포워딩**: **메서드의 구현부**에 부분 인스턴스를 사용하여 처리하는 방법
- **포워딩 메서드**: **필드의 인스턴스**를 참조하여 사용하는 메서드

### 상속으로 인한 조합의 폭발적인 증가

- 하나의 기능 추가 -> 수정을 위해 많은 클래스를 추가와 삭제 발생
- 단일 상속만 가능한 언어는 상속으로 인한 중복코드 발생

> 추상 메소드와 훅 메소드</br>
> 훅 메소드: 추상 메소드와 동일하게 자식 클래스에 오버라이딩할 의도로 메서드를 추가했지만 편의를 위해 기본 구현을 제공하는 메서드, 즉 이미 구현된 메서드이면서 상속을 통해 오버라이딩이 가능한 메서드

### 합성 관계로 변경하기

상속은 컴파일 타임 의존성과 런타임 의존성을 동일하게 한다.(정적 고정)

클래스가 아닌 인터페이스 타입으로 객체를 받으면 더 유연한 설계가 가능하다.

### 믹스인

믹스인은 객체 생성 시 코드의 일부를 클래스 내부에 넣어 재사용하는 기법으로 컴파일 시점에 필요한 코드 조각을 조합하여 재사용하는 방법이다.
