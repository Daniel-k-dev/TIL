# 객체지향 프로그래밍

- [객체지향 프로그래밍](#객체지향-프로그래밍)
  - [역할 책임 협력](#역할-책임-협력)
  - [책임과 메세지](#책임과-메세지)
    - [책임](#책임-1)
  - [좋은 메세지를 찾는 방법](#좋은-메세지를-찾는-방법)
  - [지도](#지도)
    - [구조와 기능](#구조와-기능)
    - [구조](#구조)
  - [기능 설계 구조 설계](#기능-설계-구조-설계)
    - [소프트웨어 설계의 두 가지 측면](#소프트웨어-설계의-두-가지-측면)
    - [도메인 모델](#도메인-모델)

## 역할 책임 협력

### 역할<!-- omit in toc -->

- 역할은 유사한 협력을 추상화하여 인지 과부하를 줄일 수 있다.
- 동일한 협력에 참여함으로써 재사용성이 높아진다.
- 역할은 객체지향 설계의 단순성, 유연성, 재사용성을 뒷받침한다.

### 책임<!-- omit in toc -->

책임은 역할에서 나온다.

### 협력<!-- omit in toc -->

- 객체의 존재 이유는 행위를 수행하여 협력에 참여하기 위함이다. -> 객체의 행동, 책임
- 객체지향의 핵심은 객체가 협력 안에서 어떤 책임과 역할을 수행할 것인지 결정하는 것이다. -> 역할극에서 역할 정하기
- 실행 문맥에서 협력을 찾고 협력 관계에서 책임(역할)이 정해진다.

### 객체지향 설계 기법<!-- omit in toc -->

- RDD 책임 주도 설계: 협력에 필요한 책임을 식별, 할당 하는 방식의 설계 기법
- 디자인 패턴: RDD의 결과, 반복적으로 사용하는 해결방법을 정의해 놓은 설계 템플릿. RDD에서 추출 가능하다.
- TDD: RDD의 기본 개념을 따른다. 테스트는 객체가 수행해야하는 책임을 의미하고 RDD에서 구현해야하는 부분은 테스트를 통하여 빠르고 견고하게 구현할 수 있다.

## 책임과 메세지

객체지향 세계는 자율적인 객체의 공동체이다. 할당되는 책임의 수준도 자율적이여야 한다.

너무 추상적이지도 너무 구체적이지도 않아야 한다. 적당히 추상적이며 의도를 파악할 수 있을 정도로 구체적이여야한다.

자율적인 책임은 어떻게가 아닌 무엇을 해야하는지 설명한다. 구체적인 방법이 아닌 무엇을 수행하는지(방법의 자율성)

### 책임

책임은 어떤 행동을 해야한다.

객체가 유일하게 다른 객체에 접근할 수 있는 방법은 요청 전송이다. (메세지)

### 메세지<!-- omit in toc -->

메세지는 객체의 책임(역할, 행동)을 의미합니다.

public 메서드이고 무엇이 수행되는지 만을 의미합니다. 하나의 역할에 대한 메세지가 모이게 되면 **인터페이스**가 됩니다.

### 메서드(구현, 객체의 내부)<!-- omit in toc -->

메서드는 메세지에 대한 내부적인 처리 방법을 의미합니다.

```ts
class A {
    /**
     * 메세지
     * 객체의 책임, 행동, 객체의 외부를 의미
     */
    public say () {
        const message = this.thinkMessage()
        console.log(message)
    }

    /**
     * 메서드
     * 구현, 객체의 외부 행동에 대한 처리 방법을 의미
     */
    private thinkMessage() {
        return 'hi';
    }
}
```

### 다형성<!-- omit in toc -->

다형성은 **동일한 책임을 가진 객체들이 서로 다른 방법을 사용하여 응답**할 수 있음을 말합니다.

메세지 송신자 관점에서 **동일한 책임, 역할을 수행하고 할 수 있는 객체**들 간의 **대체 가능성**을 의미합니다. 이러한 객체들은 **공용 인터페이스**(책임, 역할)로 묶을 수 있습니다. 메세지는 송신자와 수신자 사이의 결합도를 낮추고 설계를 유연하고 확장 가능하고, 재사용 가능하게 만듭니다.

### 객체 도출 과정<!-- omit in toc -->

객체의 도출 과정은 **협력에서 메세지를 찾고 메세지가 수신자의 책임(역할)을 결정**합니다.

객체 지향 설계는 적절한 책임을 적절한 객체에게 할당하면서 메세지 기반으로 협력하는 객체들의 관계를 발전하는 과정입니다.

자신에게 할당 된 책임을 완수하기 위해 다른 객체에 도움이 필요하면 메세지를 보냅니다.

## 좋은 메세지를 찾는 방법

### What Who 싸이클 <!-- omit in toc -->

협력에서 메세지의 추출, 메세지를 수신할 객체 선택 과정의 사이클 입니다.

1. 행위 식별
2. 수행 대상 결정

메세지를 결정함으로써 인터페이스를 발견할 수 있습니다.

### 묻지 말고 시켜라(Tell don't ask)<!-- omit in toc -->

무엇을 해야 하는지 요청 하는 것으로 인터페이스의 크기를 낮출 수 있습니다.

어떻게 하는지에 대해 물어보는 것은 수신 객체의 자율성을 낮추게 됩니다. 객체의 자율성이 낮아지면 수신자가 받는 요청의 양이 많아집니다. (인터페이스의 크기 증가) 객체가 메세지에 대한 작업을 자유롭게 처리하기 위해 무엇을 해야하는지만 기술하는 것이 좋습니다.

## 인터페이스<!-- omit in toc -->

특정 역할에 포함되는 메세지들의 집합입니다.

메세지가 인터페이스를 결정하고 인터페이스는 역할을 묘사합니다. 공용 인터페이스는 객체의 외부를 표현합니다.

## 지도

### 구조와 기능

소프트웨어는 변경되기 때문에 변경을 수용할 수 있는 선택의 여지를 마련하는 것이 중요하다. -> 안정정ㄱ인 구조의 중요성

- 유스케이스 모델링: 기능을 수집하고 표현을 위해 사용
- 도메인 모델링: 구조로 수조비하고 표현하기 위한 기법

### 구조

- 도메인: 사용자가 프로그램을 사용하는 대상 분야
- 모델: 대상을 추상화, 단순화한 것
- 멘탈 모델: 사람들이 자기자신, 다른사람, 환경, 상호작용하는 사물에 대해 갖는 모형
- 완전 완결성 표현

## 기능 설계 구조 설계

### 소프트웨어 설계의 두 가지 측면

1. 기능적 측면 설계
2. 구조적 측면 설계

소프트웨어 개발은 요구 사항이 변경된다.

미래의 변경에 대비해야 한다. 여지를 남겨놓는 설계, 안정적인 구조 를 기반으로 기능을 구현한다.

- 유스케이스: 기능 수집, 표현하기 위해 사용
- 도메인 모델: 구조를 수집하고 표현하기 위한 기법

### 도메인 모델

- 도메인: 사용자 프로그램을 사용하는 대상 분야
- 모델: 필요한 부분만 추려낸다.
- 도메인 모델: 사용자의 관점
- 멘탈 모델: 사람들이 자기 자신 다른 사람, 환경, 자신이 상호작용하는 무언가에 대해 갖는 모형

최종 제품은 사용자의 관점을 반영해야 한다.

최종 코드는 사용자가 도메인을 바라보는 관점을 반영해야 한다. 애플리케이션이 도메인 모델 기반으로 설계되어야 한다.

- 도메인 모델: 사용자가 도메인을 보는 관점, 설계자가 시스템의 구조를 바라보는 관점, 소프트웨어 안에 구현된 코드의 모습, 이 세가지 관짐이 일치해야 한다. => 객체 지향을 사용하는 이유.
